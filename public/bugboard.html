<!DOCTYPE html>
<!--attach bugboard to the login page-->
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bugboard</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <link rel="stylesheet" href="style.css">

    <script src='server.js'></script>

    <!-- include axios -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

</head>

<body>
    <form action="http://localhost:8080/ticket" method="POST">
        <label for="creator">Creator:</label><br>
        <input type="text" id="creator" name="creator" value=""><br>
        <label for="dateEntered">Date Entered:</label><br>
        <input type="text" id="dateEntered" name="dateEntered" value=""><br>
        <label for="dateSolved">Date Solved:</label><br>
        <input type="text" id="dateSolved" name="dateSolved" value=""><br>
        <label for="type">Type:</label><br>
        <input type="text" id="type" name="type" value=""><br>
        <label for="complete">Completed?:</label><br>
        <input type="text" id="complete" name="complete" value=""><br>

        <input type="submit" value="submit">

    </form>

    <div class="row">
            
        <!-- spacer, dissapears when smaller than 576px -->
        <div class="d-none d-sm-block col-sm-1"></div>
        <div class="col-12 col-sm-10">
            <h3 class="text-center pt-2">
                <!-- Button that activates the creation of an item -->
                
            <table id="contentGrid" class="w-100 border bg-light">
                <thead class="bg-dark text-light text-center">
                    <th class="border p-2 text-center">       
                        Creator
                    </th>
                    <th class="border p-2 text-center">       
                        Solver(s)
                    </th>
                    <th class="border p-2 text-center">       
                        Type
                    </th>
                    <th class="border p-2 text-center">       
                        Priority
                    </th>
                    <th class="border p-2 text-center">       
                        Complete
                    </th>
                    <th class="border p-2 text-center">       
                        Date Entered
                    </th>
                    <th class="border p-2 text-center">       
                        Date Completed
                    </th>
                    <th id="gridOptionsHeader" class="border p-2">Options</th>
                </thead>
                <tbody id="content">    
                                       
                </tbody>
            </table>
        </div>
    </div>
</div>

    <input id="tixDesc" type="text">
    <p id="facts"></p>

    <script>
      axios({
                method: 'get',
                url: 'http://localhost:8080/ticket',
            })
            .then(function(response) {
                console.log(response.data)

                document.getElementById("facts").innerHTML = response.data[1].dateEntered;
            });
        
            axios({
                method: 'post',
                url: 'http://localhost:8080/ticket',
            })
            .then(function(response) {
                console.log(response.data)

                document.getElementById("facts").innerHTML = response.data[0].type;
            });

            axios({
  method: 'post',
  url: 'https://localhost:8080/ticket',
  data: {
    creator: 'Fred',
    solver: 'Flintstone',
    tixDesc: document.getElementById("tixDesc").value
  }
});

    </script>

</body>

</html>